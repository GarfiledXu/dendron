---
id: w2c1fhn9dh0hn2nded0taq1
title: '24'
desc: ''
updated: 1743064401784
created: 1743064378502
---

### 2025 03 27

1. 测验视频录制文件封装效率
2. 熟悉原有h264录制流程，对比直接封装的过程差异

周报

结论:
拍照正常，三种case，每种情况拍照1万张，没有问题
优化当前的取图接口逻辑，demo中的实现 做成一个超时同步的接口，超时时间内接口阻塞，取图成功接口立刻返回，相机数据回调失败遇到异常错误或者达到超时时间则返回对应错误码，这样每次的取图都能有一个准确的记录，原先是异步的，只是设置了标志位
建议将原先天玺工程中取图接口()优化，做成取图接口实现为同步接口，可以明确每次在超时时间内，出图是否成功，算上资源初始化最长耗时450ms，通道的绑定解绑影响下，耗时130ms左右，在资源初始化和绑定就绪情况下，100ms以内完成拍照
以及文件io时的异常处理补充
视频muxer是和编码同步进行的，试验不同封装参数以及编码参数下 实时muxer是否存在性能瓶颈  对于封装器而言他就是编码器的消费者，如果处理性能不够，为了确保实时性，可能就会选择丢帧，直接结果就是帧率不够   录制帧率由上游编码器决定，但封装器消费受限的话，最终帧率会降低
编码以及muxer的实验设置
首先确认同样的编码参数下，muxer的和未进行muxer的在实时性以及视频帧率 码率是否存在差异
在不同的编码参数下，muxer后的输出是否存在差异
