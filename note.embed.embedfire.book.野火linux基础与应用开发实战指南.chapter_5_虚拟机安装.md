---
id: 0hufoo45q5cmx080kit4kl9
title: Chapter_5_虚拟机安装
desc: ''
updated: 1741099342593
created: 1741089359114
---


# Linux 目录结构详解

Linux 采用 **FHS（Filesystem Hierarchy Standard，文件系统层次结构标准）** 来组织目录结构。不同发行版在实现上可能略有差异，但整体结构基本遵循 FHS 规范。

## 目录结构概览

Linux 的根目录 `/` 下有多个子目录，每个目录都有特定的作用，以下是主要的目录及其详细说明：

---

## 1. `/` - 根目录

**作用**：Linux 的顶级目录，所有文件和目录都在此之下。

**历史发展**：

- 最初 Unix 只有一个 `/bin` 和 `/etc`，随着系统发展，目录逐渐被细化。

**应用场景**：

- `/` 本身一般不存放用户数据，而是组织系统文件。
- 需要保持尽量小的大小，通常挂载在独立的分区，以便系统稳定运行。

---

## 2. `/bin` - 必需的用户二进制文件

**作用**：存放基本的系统命令，如 `ls`、`cp`、`mv`、`rm`、`cat` 等。

**历史发展**：

- 早期 Unix 只有 `/bin` 和 `/sbin`，后来 `/usr/bin` 逐渐分担任务。

**应用场景**：

- 开机时需要的基本命令，如 `sh`（Shell 解释器），即使系统未完全加载，也可使用 `/bin` 下的命令进行故障排查。

**常见文件**：

- `/bin/ls` - 列出文件
- `/bin/cp` - 复制文件
- `/bin/rm` - 删除文件

---

## 3. `/sbin` - 系统管理二进制文件

**作用**：存放系统管理员使用的命令，如 `fdisk`、`mkfs`、`reboot`。

**历史发展**：

- 早期 `/sbin` 和 `/bin` 共享很多命令，后来 `/sbin` 主要存放与系统管理相关的工具。

**应用场景**：

- 普通用户一般无权访问 `/sbin` 目录下的命令。
- 用于系统维护，如 `fsck`（文件系统检查）。

**常见文件**：

- `/sbin/reboot` - 重启系统
- `/sbin/fsck` - 文件系统检查
- `/sbin/mkfs` - 创建文件系统

---

## 4. `/etc` - 配置文件目录

**作用**：存放系统的各种配置文件。

**历史发展**：

- 早期 Unix 版本只有少量配置文件，随着系统复杂度增加，`/etc` 逐渐成为核心配置中心。

**应用场景**：

- 需要修改系统行为时，会编辑 `/etc` 下的文件，如 `/etc/hosts`（主机解析）。

**常见文件**：

- `/etc/passwd` - 存放用户信息
- `/etc/fstab` - 挂载文件系统表
- `/etc/ssh/sshd_config` - SSH 服务器配置

---

## 5. `/home` - 用户主目录

**作用**：存放用户数据，每个用户有自己的子目录。

**历史发展**：

- 早期 Unix 用户目录放在 `/usr` 下，后来独立为 `/home`。

**应用场景**：

- 存放用户个人文件，如 `~/.bashrc` 用于自定义 Shell 环境。

**常见文件**：

- `/home/user/.bashrc` - 用户 Bash 配置
- `/home/user/Documents/` - 文档存储

---

## 6. `/root` - 超级用户的主目录

**作用**：root 用户的专属主目录，类似 `/home/root`。

**应用场景**：

- root 用户执行维护任务时的临时存储空间。

**常见文件**：

- `/root/.bashrc` - root 用户的 Bash 配置文件

---

## 7. `/usr` - Unix System Resources

**作用**：存放系统软件、库文件、文档等，类似于 Windows 的 `C:\Program Files\`。

**历史发展**：

- 早期 Unix 将 `/usr` 作为用户目录，后来逐渐演变为软件存储目录。

**应用场景**：

- `/usr/bin/`：普通用户可以使用的命令。
- `/usr/sbin/`：系统管理命令（仅 root 可用）。
- `/usr/lib/`：库文件存放位置。

**常见文件**：

- `/usr/bin/python` - Python 解释器
- `/usr/lib/libc.so` - C 语言标准库

---

## 8. `/var` - 可变数据存储

**作用**：存放日志、缓存、邮件、锁文件等。

**历史发展**：

- 早期 Unix 系统 `/usr` 目录是只读的，因此 `/var` 诞生用于存储动态数据。

**应用场景**：

- `/var/log/` - 存放系统日志，如 `/var/log/syslog` 记录系统信息。
- `/var/spool/` - 邮件、打印任务的队列。

**常见文件**：

- `/var/log/syslog` - 系统日志
- `/var/spool/mail/` - 邮件存放目录

---

## 9. `/tmp` - 临时文件目录

**作用**：存放临时文件，系统重启后可能会清空。

**应用场景**：

- 程序运行时的临时数据存储，如 `vi` 编辑器的临时文件。

**常见文件**：

- `/tmp/sess_XXXX` - PHP 生成的会话文件

---

## 10. `/dev` - 设备文件目录

**作用**：存放所有设备文件，如硬盘、终端、光驱等。

**应用场景**：

- `/dev/sda` - 硬盘设备文件
- `/dev/tty` - 终端设备

**常见文件**：

- `/dev/null` - 丢弃数据的设备
- `/dev/random` - 随机数生成设备

---

## 11. `/proc` - 进程信息目录

**作用**：虚拟文件系统，存放进程和系统信息。

**应用场景**：

- `/proc/cpuinfo` - 查看 CPU 信息
- `/proc/meminfo` - 查看内存使用情况

**常见文件**：

- `/proc/uptime` - 系统运行时间
- `/proc/1/` - 进程号 1（init 进程）相关信息

---

## 12. `/sys` - 设备与内核交互

**作用**：提供与内核交互的接口，取代部分 `/proc` 功能。

**应用场景**：

- `/sys/class/net/` - 查看网络设备
- `/sys/block/` - 查看存储设备

---

## 13. `/media` 和 `/mnt` - 挂载点

**作用**：

- `/media/`：自动挂载的存储设备，如 USB。
- `/mnt/`：手动挂载的临时存储设备。

**应用场景**：

- 挂载 U 盘 `/media/usb`
- 手动挂载 NFS 服务器 `/mnt/nfs`

---

## 14. `/opt` - 可选软件包

**作用**：存放第三方软件包，如 `Google Chrome`、`VMware` 等。

**应用场景**：

- `/opt/google/chrome/` - Chrome 安装目录

---

## 15. `/boot` - 启动文件目录

**作用**：存放内核和引导加载器（如 GRUB）。

**应用场景**：

- `/boot/vmlinuz` - 内核文件
- `/boot/grub/grub.cfg` - GRUB 配置文件

---

## 总结

Linux 目录结构设计合理，支持灵活扩展，理解这些目录的作用能更好地管理系统。不同的目录有其特定的用途，有助于系统稳定性和可维护性。

# FHS（Filesystem Hierarchy Standard）文件系统层次结构标准

## 1. 什么是 FHS？

**FHS（Filesystem Hierarchy Standard，文件系统层次结构标准）** 是 Linux 和类 Unix 操作系统的文件系统目录组织标准。它定义了各个目录的用途和存放内容，使不同 Linux 发行版在目录结构上保持一致，提高软件兼容性和系统可维护性。

## 2. FHS 的发展历史

- **早期 Unix（1970s-1980s）**：
  - Unix 目录结构最初比较简单，主要有 `/bin`、`/etc`、`/usr`、`/dev` 等。
  - `/usr` 早期既存放用户文件，也存放系统程序，后来演变为 `/usr/bin` 和 `/usr/sbin`。
  
- **Linux 发展初期（1990s）**：
  - 由于不同 Linux 发行版的目录结构不统一，导致软件兼容性问题。
  - Linux 社区制定了 FHS 以统一标准。

- **FHS 1.0（1994 年发布）**：
  - 由 **FSSTND（Filesystem Standard）** 发展而来，最初目标是定义 Linux 根目录结构。
  
- **FHS 2.0（1997 年）**：
  - 扩展了 `/var`、`/opt` 等目录，并详细规定了 `/usr` 目录的内容。

- **FHS 3.0（2015 年）**：
  - 现代 Linux 发行版广泛遵循 FHS 3.0，如 Debian、Ubuntu、Red Hat、CentOS。

## 3. FHS 的核心目录分类

FHS 主要定义了以下几类目录：

### **（1）根目录 `/`**

- 所有文件系统的起点，必须包含基本文件和目录。

### **（2）必需的二进制文件**

- `/bin`：普通用户和系统启动时需要的二进制程序（如 `ls`、`cp`）。
- `/sbin`：系统管理命令（如 `reboot`、`fsck`）。

### **（3）系统配置**

- `/etc`：存放配置文件（如 `passwd`、`fstab`）。

### **（4）用户文件**

- `/home`：用户个人目录（如 `/home/user/`）。

### **（5）系统库文件**

- `/lib` 和 `/lib64`：存放基本共享库（如 `glibc`）。

### **（6）可变数据**

- `/var`：日志、缓存、队列（如 `/var/log/`）。

### **（7）可选软件**

- `/opt`：第三方软件（如 `/opt/google/`）。

### **（8）设备和进程信息**

- `/dev`：设备文件（如 `/dev/sda`）。
- `/proc` 和 `/sys`：内核信息和进程信息。

## 4. FHS 的重要性

- **提高兼容性**：让不同 Linux 发行版的软件包可以互相兼容。
- **易于维护**：管理员可以快速找到配置文件、日志文件等。
- **标准化软件安装**：应用程序知道该把数据存放在哪些目录。

## 5. 现代 Linux 对 FHS 的变更

虽然 FHS 仍是 Linux 目录结构的标准，但一些现代 Linux 发行版对其进行了调整：

- **`/usr/bin` 和 `/bin` 合并**（如 Ubuntu 20.04+，`/bin` 是 `/usr/bin` 的符号链接）。
- **`/usr/sbin` 和 `/sbin` 合并**。
- **`/lib`、`/lib32`、`/lib64` 统一至 `/usr/lib`**。

## 6. 结论

FHS 是 Linux 目录结构的核心标准，使得不同发行版的文件组织更加一致。理解 FHS 对于 Linux 管理和软件开发至关重要，能更有效地定位文件、配置系统和解决问题。


```bash
# 解释一下以下目录的作用
/
/bin
/lib
/lib64
/var
/opt
/dev
/proc
/sys
/home
/usr
/sbin
/etc
/boot
/media

```